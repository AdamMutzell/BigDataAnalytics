<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7/dist/htmx.min.js" integrity="sha384-ZBXiYtYQ6hJ2Y0ZNoYuI+Nq5MqWBr+chMrS/RkXpNzQCApHEhOt2aY8EJgqwHLkJ" crossorigin="anonymous"></script>

    <title>Clone Detector2 Monitor</title>
</head>
<body>
    <h1>Clone or2 Monitor</h1>
    <p>Database Host: {{ dbhost }}</p>
    <p>Database Name: {{ dbname }}</p>
    <p>Health Check: <span id="health-status">Unknown</span></p>
    <div>
        <h2>Statistics</h2>
        <p>Candidates per File: {{ candidates_per_file }}</p>
        <p>Clones per File: {{ clones_per_file }}</p>
        <p>Chunks per File: {{ chunks_per_file }}</p>
        <p>Average Clone Size: {{ average_clone_size }}</p>
    </div>
    <div>
        <h2>Timeline</h2>
        <ul>
            {% for update in status_updates %}
                <li>{{ update.timestamp }} - {{ update.message }}</li>
            {% endfor %}
        </ul>
    </div>
    <div>
        <img src="data:image/png;base64, {{ plot_url }}" alt="Database Status Plot">
        <img src="data:image/png;base64, {{ deriv_plot_url }}" alt="Database Status Derivative Plot">
    </div>
</body>
</html>